/* Autogenerated file. Do not edit manually. */
/* tslint:disable */
/* eslint-disable */

import type BN from "bn.js";
import type { ContractOptions } from "web3-eth-contract";
import type { EventLog } from "web3-core";
import type { EventEmitter } from "events";
import type {
  Callback,
  PayableTransactionObject,
  NonPayableTransactionObject,
  BlockType,
  ContractEventLog,
  BaseContract,
} from "./types";

export interface EventOptions {
  filter?: object;
  fromBlock?: BlockType;
  topics?: string[];
}

export type OwnershipTransferred = ContractEventLog<{
  previousOwner: string;
  newOwner: string;
  0: string;
  1: string;
}>;
export type ProposalRegistered = ContractEventLog<{
  sessionId: string;
  proposalId: string;
  description: string;
  0: string;
  1: string;
  2: string;
}>;
export type SessionCreated = ContractEventLog<{
  sessionId: string;
  name: string;
  description: string;
  0: string;
  1: string;
  2: string;
}>;
export type Voted = ContractEventLog<{
  sessionId: string;
  voter: string;
  0: string;
  1: string;
}>;
export type VoterRegistered = ContractEventLog<{
  sessionId: string;
  voterAddress: string;
  0: string;
  1: string;
}>;
export type VotesTallied = ContractEventLog<{
  sessionId: string;
  votersCount: string;
  totalVotes: string;
  blankVotes: string;
  abstention: string;
  winningProposals: [string, string, string][];
  0: string;
  1: string;
  2: string;
  3: string;
  4: string;
  5: [string, string, string][];
}>;
export type WorkflowStatusChange = ContractEventLog<{
  sessionId: string;
  previousStatus: string;
  newStatus: string;
  0: string;
  1: string;
  2: string;
}>;

export interface Voting extends BaseContract {
  constructor(
    jsonInterface: any[],
    address?: string,
    options?: ContractOptions
  ): Voting;
  clone(): Voting;
  methods: {
    /**
     * Returns the address of the current owner.
     */
    owner(): NonPayableTransactionObject<string>;

    /**
     * Leaves the contract without owner. It will not be possible to call `onlyOwner` functions anymore. Can only be called by the current owner. NOTE: Renouncing ownership will leave the contract without an owner, thereby removing any functionality that is only available to the owner.
     */
    renounceOwnership(): NonPayableTransactionObject<void>;

    /**
     * Transfers ownership of the contract to a new account (`newOwner`). Can only be called by the current owner.
     */
    transferOwnership(newOwner: string): NonPayableTransactionObject<void>;

    /**
     * Administrator can create new voting session
     * @param _description The session description
     * @param _name The session name
     */
    createVotingSession(
      _name: string,
      _description: string
    ): NonPayableTransactionObject<void>;

    /**
     * voters can be added only by contract owner when status is set to RegisteringVoters An event VoterRegistered is emitted
     * Administrator can register voters.
     * @param _sessionId The session identifier
     * @param _voter The address to add into voters registry
     */
    registerVoter(
      _sessionId: number | string | BN,
      _voter: string
    ): NonPayableTransactionObject<void>;

    /**
     * Can be called only when status is set to RegisteringVoters. Two default proposals are registered at the beginning of this step: `Abstention` and `Blank`. That means a registered voter that forget to vote will be counted as `abstention` thanks to `proposals` array index 0 An event WorkflowStatusChange is emitted
     * Administrator can close voters registration and open proposals registration.
     * @param _sessionId The session identifier
     */
    startProposalsRegistration(
      _sessionId: number | string | BN
    ): NonPayableTransactionObject<void>;

    /**
     * Can be called only when status is set to ProposalsRegistrationStarted. An event WorkflowStatusChange is emitted
     * Administrator can close proposals registration.
     * @param _sessionId The session identifier
     */
    stopProposalsRegistration(
      _sessionId: number | string | BN
    ): NonPayableTransactionObject<void>;

    /**
     * Can be called only when status is set to ProposalsRegistrationEnded. An event WorkflowStatusChange is emitted
     * Administrator can open voting session.
     * @param _sessionId The session identifier
     */
    startVotingSession(
      _sessionId: number | string | BN
    ): NonPayableTransactionObject<void>;

    /**
     * Can be called only when status is set to VotingSessionStarted. An event WorkflowStatusChange is emitted
     * Administrator can close voting session.
     * @param _sessionId The session identifier
     */
    stopVotingSession(
      _sessionId: number | string | BN
    ): NonPayableTransactionObject<void>;

    /**
     * After votes talling, it is possible that we got many winning proposals. Votes talling can be triggered only by contract owner when voting session status is set to VotingSessionEnded An event WorkflowStatusChange is emitted
     * Administrator can trigger votes talling.
     * @param _sessionId The session identifier
     */
    tallyVotes(
      _sessionId: number | string | BN
    ): NonPayableTransactionObject<void>;

    /**
     * Each voter can register many proposals. As the vote is considered to be done in small organization context, the maximum number of proposals is limited to 256. Maximum number of proposals per voter is also limited to 3. A vote can be added only by registered voter when status is set to VotingSessionStarted
     * A voter can register a new proposal.
     * @param _description The proposal description
     * @param _sessionId The session identifier
     */
    registerProposal(
      _sessionId: number | string | BN,
      _description: string
    ): NonPayableTransactionObject<void>;

    /**
     * Each voter can vote only once for one proposal. Votes can be added only by registered voter when status is set to VotingSessionStarted
     * A voter can register his vote for a proposal.
     * @param _proposalId The chosen proposal identifier
     * @param _sessionId The session identifier
     */
    vote(
      _sessionId: number | string | BN,
      _proposalId: number | string | BN
    ): NonPayableTransactionObject<void>;

    /**
     * Administrator and registered voters can all access to everybody votes but only at the end of voting session.
     * Retreive vote
     * @param _sessionId The session identifier
     * @param _voter The voter address
     */
    getVote(
      _sessionId: number | string | BN,
      _voter: string
    ): NonPayableTransactionObject<string>;

    /**
     * Administrator and registered voters can retreive winning proposals but only at the end of voting session.
     * Retreive winning proposals
     */
    getWinners(
      _sessionId: number | string | BN
    ): NonPayableTransactionObject<[string, string, string][]>;
  };
  events: {
    OwnershipTransferred(cb?: Callback<OwnershipTransferred>): EventEmitter;
    OwnershipTransferred(
      options?: EventOptions,
      cb?: Callback<OwnershipTransferred>
    ): EventEmitter;

    ProposalRegistered(cb?: Callback<ProposalRegistered>): EventEmitter;
    ProposalRegistered(
      options?: EventOptions,
      cb?: Callback<ProposalRegistered>
    ): EventEmitter;

    SessionCreated(cb?: Callback<SessionCreated>): EventEmitter;
    SessionCreated(
      options?: EventOptions,
      cb?: Callback<SessionCreated>
    ): EventEmitter;

    Voted(cb?: Callback<Voted>): EventEmitter;
    Voted(options?: EventOptions, cb?: Callback<Voted>): EventEmitter;

    VoterRegistered(cb?: Callback<VoterRegistered>): EventEmitter;
    VoterRegistered(
      options?: EventOptions,
      cb?: Callback<VoterRegistered>
    ): EventEmitter;

    VotesTallied(cb?: Callback<VotesTallied>): EventEmitter;
    VotesTallied(
      options?: EventOptions,
      cb?: Callback<VotesTallied>
    ): EventEmitter;

    WorkflowStatusChange(cb?: Callback<WorkflowStatusChange>): EventEmitter;
    WorkflowStatusChange(
      options?: EventOptions,
      cb?: Callback<WorkflowStatusChange>
    ): EventEmitter;

    allEvents(options?: EventOptions, cb?: Callback<EventLog>): EventEmitter;
  };

  once(event: "OwnershipTransferred", cb: Callback<OwnershipTransferred>): void;
  once(
    event: "OwnershipTransferred",
    options: EventOptions,
    cb: Callback<OwnershipTransferred>
  ): void;

  once(event: "ProposalRegistered", cb: Callback<ProposalRegistered>): void;
  once(
    event: "ProposalRegistered",
    options: EventOptions,
    cb: Callback<ProposalRegistered>
  ): void;

  once(event: "SessionCreated", cb: Callback<SessionCreated>): void;
  once(
    event: "SessionCreated",
    options: EventOptions,
    cb: Callback<SessionCreated>
  ): void;

  once(event: "Voted", cb: Callback<Voted>): void;
  once(event: "Voted", options: EventOptions, cb: Callback<Voted>): void;

  once(event: "VoterRegistered", cb: Callback<VoterRegistered>): void;
  once(
    event: "VoterRegistered",
    options: EventOptions,
    cb: Callback<VoterRegistered>
  ): void;

  once(event: "VotesTallied", cb: Callback<VotesTallied>): void;
  once(
    event: "VotesTallied",
    options: EventOptions,
    cb: Callback<VotesTallied>
  ): void;

  once(event: "WorkflowStatusChange", cb: Callback<WorkflowStatusChange>): void;
  once(
    event: "WorkflowStatusChange",
    options: EventOptions,
    cb: Callback<WorkflowStatusChange>
  ): void;
}
